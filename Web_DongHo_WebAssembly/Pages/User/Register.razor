@page "/dangky"
@using Web_DongHo_WebAssembly.Models
@inject HttpClient http

<style>
    body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        background-image: url(/images/background-login.jpg);
        background-size: cover;
        background-position: center;
    }

    .container {
        width: 700px;
        margin: 50px auto;
        background-color: #fff;
        padding: 30px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        border-radius: 15px;
    }

    h1 {
        text-align: center;
        color: #333;
        margin-bottom: 20px;
    }

    p {
        text-align: center;
        color: #666;
    }

    .input-group {
        margin-bottom: 15px;
    }

    label {
        display: block;
        margin-bottom: 5px;
        color: #333;
    }

    input[type="date"],
    input[type="number"],
    input[type="text"],
    input[type="email"],
    input[type="password"] {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }

    button[type="submit"] {
        background-color: #333;
        color: #fff;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.3s ease-in-out;
    }

        button[type="submit"]:hover {
            background-color: #555;
            transform: scale(1.05);
        }

    .login {
        background-color: #333;
        color: white;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border: none;
        border-radius: 4px;
        transition: background-color 0.3s, transform 0.3s ease-in-out;
    }

        .login:hover {
            background-color: #555;
            transform: scale(1.05);
        }


    .social-login a:hover {
        color: white;
    }

    .social-login {
        text-align: center;
        margin-top: 20px;
    }

        .social-login a {
            display: inline-block;
            color: #333;
            text-decoration: none;
            margin: 5px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            text-align: center;
            width: 100px;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease-in-out;
        }

        .social-login img {
            width: 20px;
            height: 20px;
            display: block;
            margin: 0 auto 5px;
            transition: filter 0.3s ease;
        }

        .social-login a:hover {
            background-color: #333;
            color: #fff;
            border-color: #333;
        }

    .container .backHome {
        color: #333;
        text-decoration: none;
        font-weight: 500;
        display: inline-block;
        position: relative;
    }

        .container .backHome:after {
            background: none repeat scroll 0 0 transparent;
            bottom: 0;
            content: "";
            display: block;
            height: 2px;
            left: 50%;
            position: absolute;
            background: #333;
            transition: width 0.4s ease 0s, left 0.4s ease 0s;
            width: 0;
        }

        .container .backHome:hover:after {
            width: 100%;
            left: 0;
        }

</style>

<div class="container" style="margin-top: 200px;">
    <div>
        <a class="backHome" style="color:" href="/"> <i class="fa-solid fa-house"></i> Trở về trang chủ</a>
    </div>
    <h1>Đăng ký</h1>
    <div class="social-login">
        <a href="/user/googlelogin" class="link">
            <img src="https://i.pinimg.com/originals/84/c7/00/84c7007eb6ac4374f77394d1e4954a96.png" alt="">
            <h6>Google</h6>
        </a>
        <a href="#" class="link">
            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6c/Facebook_Logo_2023.png" alt="">
            <h6>Facebook</h6>
        </a>
        <a href="#" class="link">
            <img src="https://img.freepik.com/free-vector/new-2023-twitter-logo-x-icon-design_1017-45418.jpg?size=338&ext=jpg&ga=GA1.1.1369675164.1715558400&semt=ais_user" alt="">
            <h6>Twitter</h6>
        </a>
    </div>
    <EditForm Model="@userVM" OnValidSubmit="@HandleSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <div class="input-group">
            <label for="fullName">Họ và Tên:</label>
            <InputText id="fullName" class="form-control rounded-4" @bind-Value="userVM.FullName" required pattern="^[a-zA-Z\s]+$" title="Chỉ được nhập các ký tự chữ cái và dấu cách" />
            <ValidationMessage For="@(() => userVM.FullName)" />
        </div>

        <div class="input-group">
            <label for="gender">Giới tính:</label>
            <InputSelect id="gender" class="form-control rounded-4" @bind-Value="userVM.Gender" required>
                <option value="">Chọn giới tính</option>
                @foreach (var gender in genderSelectList)
                {
                    <option value="@gender.Value">@gender.Text</option>
                }
            </InputSelect>
            <ValidationMessage For="@(() => userVM.Gender)" />
        </div>

        <div class="input-group">
            <label for="phone">Số điện thoại:</label>
            <InputText id="phone" class="form-control rounded-4" @bind-Value="userVM.PhoneNumber" required pattern="^(03|05|07|08|09)[0-9]{8}$" />
            <ValidationMessage For="@(() => userVM.PhoneNumber)" />
            <small id="phoneHelp" class="form-text text-muted">Ví dụ: Sđt bắt đầu từ 03, 05, 09 và có 10 số.</small>
        </div>

        <div class="input-group">
            <label for="username">Tài khoản:</label>
            <InputText id="username" class="form-control rounded-4" @bind-Value="userVM.UserName" required />
            <ValidationMessage For="@(() => userVM.UserName)" />
        </div>

        <div class="input-group">
            <label for="password">Mật khẩu:</label>
            <InputText id="password" class="form-control rounded-4" @bind-Value="userVM.Password" type="password" required pattern="^\S+$" title="Không được chứa dấu cách" />
            <ValidationMessage For="@(() => userVM.Password)" />
        </div>

        <div class="input-group">
            <label for="birthDate">Ngày Sinh:</label>
            <InputDate id="birthDate" class="form-control rounded-4" @bind-Value="userVM.BirthDate" required />
            <ValidationMessage For="@(() => userVM.BirthDate)" />
        </div>

        <button class="btn btn-primary" type="submit">Đăng Ký</button>
        <a class="btn btn-link" href="/login">Đăng Nhập</a>
    </EditForm>
</div>

@code {
    private UserVM userVM = new UserVM();
    private List<SelectListItem> genderSelectList = new List<SelectListItem>
    {
        new SelectListItem { Value = "true", Text = "Nam" },
        new SelectListItem { Value = "false", Text = "Nữ" },
        new SelectListItem { Value = "other", Text = "Khác" }
    };

    private async Task HandleSubmit()
    {
        // Add your form submission logic here
    }

    public class SelectListItem
    {
        public string Value { get; set; }
        public string Text { get; set; }
    }
}
